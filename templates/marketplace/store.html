{% extends 'base.html' %}

{% block content %}
<div class="container store-page">
  <div class="store-layout">
    <!-- Filter Sidebar -->
    <aside class="store-sidebar">
      <h3>Filters</h3>
      <form method="get" class="filter-form">
        <div class="form-group">
          <label for="category">Category</label>
          <input type="text" id="category" name="category" placeholder="Search category">
        </div>
        <div class="form-group">
          <label for="min_price">Min Price</label>
          <input type="number" id="min_price" name="min_price" min="0">
        </div>
        <div class="form-group">
          <label for="max_price">Max Price</label>
          <input type="number" id="max_price" name="max_price" min="0">
        </div>
        <button type="submit" class="btn-primary">Apply Filters</button>
      </form>
    </aside>
    <!-- Product Grid -->
    <section class="store-main">
      <div class="store-header">
        <h2>Store</h2>
        <form method="get" class="sort-form">
          <label for="sort">Sort by:</label>
          <select name="sort" id="sort">
            <option value="">Default</option>
            <option value="price_asc">Price: Low to High</option>
            <option value="price_desc">Price: High to Low</option>
            <option value="name_asc">Name: A-Z</option>
            <option value="name_desc">Name: Z-A</option>
          </select>
          <button type="submit" class="btn-outline">Sort</button>
        </form>
      </div>
      <div class="products-grid">
        {% for product in products %}
        <div class="product-card">
          <div class="product-image">
            {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.name }}">
            {% else %}
            <img src="https://via.placeholder.com/300x200?text=No+Image" alt="No Image">
            {% endif %}
          </div>
          <div class="product-info">
            <h3 class="product-title">{{ product.name }}</h3>
            <p class="product-description">{{ product.description|truncatewords:15 }}</p>
            <div class="product-meta">
              <span class="product-price">${{ product.price }}</span>
              <span class="product-category">{{ product.category }}</span>
            </div>
            <div class="product-icons">
              <button class="icon-button add-to-cart"><i class="fas fa-shopping-cart"></i> Add to Cart</button>
              <button class="icon-button add-to-wishlist"><i class="far fa-heart"></i> Wishlist</button>
            </div>
          </div>
        </div>
        {% empty %}
        <div class="no-products">
          <p>No products found.</p>
        </div>
        {% endfor %}
      </div>
    </section>
  </div>
</div>
{% endblock %} 