{% extends "base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/store.css' %}">
<div class="container" role="main">
  <h2>SHOP</h2>
  <!-- Controls (top) -->
  <div aria-label="Top controls" class="controls">
    <div aria-label="View mode" class="controls-left" role="group">
      <button aria-label="Grid view" aria-pressed="true" class="btn-icon">
        <i class="fas fa-th"></i>
      </button>
      <button aria-label="List view" aria-pressed="false" class="btn-icon inactive">
        <i class="fas fa-list"></i>
      </button>
    </div>
    <div class="controls-center" style="display:flex; gap:12px; align-items:center;">
      <label for="sort-top">Sort by latest</label>
      <select aria-label="Sort products" id="sort-top" name="sort-top">
        <option>Sort by latest</option>
      </select>
      <label for="show-top">Show</label>
      <select aria-label="Number of products to show" id="show-top" name="show-top">
        <option>12</option>
      </select>
    </div>
    <div aria-label="Pagination" class="pagination">
      <span aria-current="page">1</span>
      <button aria-label="Next page">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>
  <div aria-label="Product list" class="grid" role="list">
    {% for product in products %}
    <article class="card" role="listitem">
      <div class="img-wrapper">
        {% if product.image %}
        <img alt="{{ product.name }}" height="150" src="{{ product.image.url }}" width="150"/>
        {% else %}
        <img alt="No image" height="150" src="{% static 'images/denim.png' %}" width="150"/>
        {% endif %}
        {# Discount badge placeholder: implement logic if you add discount field #}
        {# <div class="discount-badge">-10%</div> #}
        <div aria-label="View product details" class="eye-overlay" tabindex="0">
          <i class="fas fa-eye"></i>
        </div>
      </div>
      <p class="desc">{{ product.description|truncatechars:40 }}</p>
      <p class="price">
        ${{ product.price }}
        {# Old price placeholder: implement logic if you add old_price field #}
        {# <del>$300.00</del> #}
      </p>
      <div class="btn-group">
        <button class="btn-cart" type="button">
          <i class="fas fa-shopping-cart"></i>
          ADD TO CART
        </button>
        <button aria-label="Add to wishlist" class="btn-wishlist" type="button">
          <i class="far fa-heart"></i>
        </button>
      </div>
    </article>
    {% endfor %}
  </div>
  <!-- Controls (bottom) -->
  <div aria-label="Bottom controls" class="controls" style="margin-top:12px;">
    <div aria-label="View mode" class="controls-left" role="group">
      <button aria-label="Grid view" aria-pressed="true" class="btn-icon">
        <i class="fas fa-th"></i>
      </button>
      <button aria-label="List view" aria-pressed="false" class="btn-icon inactive">
        <i class="fas fa-list"></i>
      </button>
    </div>
    <div class="controls-center" style="display:flex; gap:12px; align-items:center;">
      <label for="sort-bottom">Sort by latest</label>
      <select aria-label="Sort products" id="sort-bottom" name="sort-bottom">
        <option>Sort by latest</option>
      </select>
      <label for="show-bottom">Show</label>
      <select aria-label="Number of products to show" id="show-bottom" name="show-bottom">
        <option>12</option>
      </select>
    </div>
    <div aria-label="Pagination" class="pagination">
      <span aria-current="page">1</span>
      <button aria-label="Next page">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>
</div>
{% endblock %} 